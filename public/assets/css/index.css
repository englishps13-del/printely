body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to bottom right, #f3e8ff, #e9d5ff);
    transition: background 0.5s ease, color 0.5s ease;
    color: #1e1e2e;
    overflow-x: hidden;
  }
  body.dark {
    background: linear-gradient(to bottom right, #1e1b4b, #4c1d95);
    color: #e0e7ff;
  }
  
  /* Background shapes & Animations */
  .shape {
    position: absolute;
    opacity: 0.1;
    z-index: 0;
    animation: float 15s ease-in-out infinite;
    pointer-events: none;
  }
  .shape-1 { top: 15%; left: 10%; width: 80px; height: 80px; fill: #a78bfa; animation-delay: 0s; }
  .shape-2 { top: 75%; left: 5%; width: 40px; height: 40px; fill: #c084fc; animation-delay: 3s; animation-duration: 12s; }
  .shape-3 { top: 20%; right: 8%; width: 60px; height: 60px; fill: #f472b6; animation-delay: 5s; }
  .shape-4 { bottom: 10%; right: 12%; width: 100px; height: 100px; fill: #60a5fa; animation-delay: 2s; animation-duration: 18s; }
  .shape-5 { top: 50%; right: 20%; width: 30px; height: 30px; fill: #34d399; animation-delay: 8s; }
    
  @keyframes float {
    0% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-25px) rotate(15deg); }
    100% { transform: translateY(0px) rotate(0deg); }
  }

  @keyframes fade-in-down {
    0% { opacity: 0; transform: translateY(-20px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  @keyframes fade-in-up {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-in-down { animation: fade-in-down 0.8s ease-out both; animation-delay: 0.2s; }
  .animate-fade-in-up { animation: fade-in-up 0.8s ease-out both; animation-delay: 0.4s; }


  /* NAVBAR */
  nav {
    background: white;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
    position: relative;
    z-index: 20;
    transition: background 0.3s ease;
  }
  body.dark nav {
    background: #1e1e2e;
  }
  nav .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem; /* Adjusted for mobile */
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
  }
  @media (min-width: 768px) {
    nav .container {
      padding: 1rem 2rem; /* Restore padding for larger screens */
    }
  }
  
  #nav-links {
    /* Mobile styles for dropdown */
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    flex-direction: column;
    align-items: center;
    gap: 0;
    list-style: none;
    margin: 0;
    padding: 1rem 0;
    border-radius: 0 0 12px 12px;
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    transform: translateY(-10px);
    opacity: 0;
    pointer-events: none;
  }
  #nav-links.active {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }
  body.dark #nav-links {
      background: #1e1e2e;
  }
  #nav-links a {
    text-decoration: none;
    font-weight: 500;
    font-size: 1.1rem;
    color: #44475a;
    padding: 1rem 2rem;
    transition: color 0.3s ease;
    white-space: nowrap;
    cursor: pointer;
    display: block;
    width: 100%;
    text-align: center;
  }
  body.dark #nav-links a {
    color: #cdd6f4;
  }
  #nav-links a.active,
  #nav-links a:hover {
    color: #7c3aed;
    font-weight: 700;
  }

  /* Desktop styles for nav links */
  @media (min-width: 768px) {
    #nav-links {
      position: static;
      flex-direction: row;
      background: transparent;
      box-shadow: none;
      gap: 3rem;
      padding: 0;
      transform: none;
      opacity: 1;
      pointer-events: auto;
    }
    #nav-links a {
      padding: 8px 0;
      width: auto;
    }
  }

  .underline {
    position: absolute;
    bottom: 0;
    height: 3px;
    background-color: #7c3aed;
    border-radius: 1px;
    transition: left 0.3s ease, width 0.3s ease;
    pointer-events: none;
    z-index: 5;
    left: 0;
    width: 0;
    display: none; /* Hide by default on mobile */
  }
  @media (min-width: 768px) {
    .underline {
      display: block; /* Show on desktop */
    }
  }
  
  /* Hamburger Menu Button */
  #menu-toggle {
      display: block;
      z-index: 30;
      border: none;
      background: transparent;
      cursor: pointer;
  }
   @media (min-width: 768px) {
       #menu-toggle {
           display: none;
       }
   }
   #menu-toggle .hamburger-line {
       width: 28px;
       height: 3px;
       background-color: #44475a;
       border-radius: 3px;
       display: block;
       margin: 5px 0;
       transition: all 0.3s ease-in-out;
   }
   body.dark #menu-toggle .hamburger-line {
       background-color: #cdd6f4;
   }

   /* Animate hamburger to X */
   #menu-toggle.active .hamburger-line:nth-child(1) {
       transform: translateY(8px) rotate(45deg);
   }
   #menu-toggle.active .hamburger-line:nth-child(2) {
       opacity: 0;
   }
   #menu-toggle.active .hamburger-line:nth-child(3) {
       transform: translateY(-8px) rotate(-45deg);
   }


  /* THEME TOGGLE */
  .theme-switcher {
    display: inline-block;
    position: relative;
    user-select: none;
  }
  .switch {
    display: flex;
    align-items: center;
    width: 90px;
    height: 42px;
    background: linear-gradient(to right, #d8b4fe, #a78bfa);
    border-radius: 42px;
    cursor: pointer;
    position: relative;
  }
  .icon {
    width: 30px;
    height: 30px;
    pointer-events: none;
    user-select: none;
  }
  .sun {
    margin-left: 10px;
  }
  .moon {
    margin-left: auto;
    margin-right: 10px;
  }
  .slider {
    position: absolute;
    width: 38px;
    height: 38px;
    background: white;
    border-radius: 50%;
    top: 2px;
    left: 3px;
    transition: left 0.3s ease;
    box-shadow: 0 0 6px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .slider img {
    width: 24px;
    height: 24px;
  }
  #dm-toggle {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }
  #dm-toggle:checked + .switch .slider {
    left: 49px;
  }

  /* --- SLIDESHOW STYLES START --- */
  .slideshow-container {
      position: relative;
      width: 100%;
      max-width: 900px; /* Control max width */
      margin: auto;
      overflow: hidden;
      border-radius: 1.5rem; /* 24px */
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  .slides-wrapper {
      display: flex;
      transition: transform 0.7s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother transition */
  }
  .slide {
      min-width: 100%;
      box-sizing: border-box;
      position: relative;
  }
  .slide img {
      width: 100%;
      display: block;
      object-fit: cover;
      aspect-ratio: 16 / 9; /* Ensure consistent proportions */
  }
  .slide-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(255, 255, 255, 0.6);
      color: #333;
      border: none;
      cursor: pointer;
      padding: 0.75rem;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transition: background-color 0.3s ease, transform 0.2s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }
  body.dark .slide-btn {
      background-color: rgba(30, 30, 46, 0.7);
      color: #fff;
  }
  .slide-btn:hover {
      background-color: rgba(255, 255, 255, 0.9);
      transform: translateY(-50%) scale(1.1);
  }
  body.dark .slide-btn:hover {
      background-color: rgba(30, 30, 46, 0.9);
  }
  .slide-btn.prev { left: 1rem; }
  .slide-btn.next { right: 1rem; }
  .dots-container {
      text-align: center;
      padding: 1rem;
      position: absolute;
      bottom: 0;
      width: 100%;
      z-index: 10;
  }
  .dot {
      cursor: pointer;
      height: 12px;
      width: 12px;
      margin: 0 5px;
      background-color: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      display: inline-block;
      transition: background-color 0.4s ease, transform 0.3s ease;
      border: 1px solid rgba(0,0,0,0.1);
  }
  .dot.active, .dot:hover {
      background-color: #7c3aed;
      transform: scale(1.2);
  }
  /* --- SLIDESHOW STYLES END --- */


  /* SYLLABUS TABLE */
  .syllabus-table {
    border-collapse: collapse;
    width: 100%;
    background: white;
    color: #333;
    border-radius: 12px;
    overflow: hidden;
  }
  body.dark .syllabus-table {
    background: #1e1e2e;
    color: #e5e5e5;
  }
  .syllabus-table th, 
  .syllabus-table td {
    border: 1px solid #ddd;
    padding: 14px 12px;
    vertical-align: top;
  }
  body.dark .syllabus-table th, 
  body.dark .syllabus-table td {
    border-color: #4a4a6a;
  }
  .syllabus-table th {
    text-align: left;
    font-weight: bold;
    color: #333;
    background-color: #f3e8ff;
  }
  body.dark .syllabus-table th {
    color: #f0eaff;
    background-color: #4c1d95;
  }
  .syllabus-table tr:nth-child(even) {
    background: #f9f9ff;
  }
  body.dark .syllabus-table tr:nth-child(even) {
    background: #2a2a3d;
  }
  .syllabus-table tbody tr:hover {
    background: #ede9fe;
    transition: background 0.3s;
  }
  body.dark .syllabus-table tbody tr:hover {
    background: #3b3055;
  }
  .syllabus-table ul {
    margin: 0;
    padding-left: 1rem;
  }

  /* ACCORDION */
  .accordion-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-radius: 12px 12px 0 0;
    transition: background 0.3s ease, transform 0.2s ease;
    background: linear-gradient(135deg, #e9d5ff, #d8b4fe);
    color: #2e1065;
    margin-top: 2rem; /* space between syllabus blocks */
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }
  .accordion-header:hover {
    transform: scale(1.01);
    background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
  }
  .accordion-header.active {
    background: linear-gradient(135deg, #d8b4fe, #c084fc);
    color: white;
  }
  body.dark .accordion-header {
    background: linear-gradient(135deg, #6d28d9, #7c3aed);
    color: #f3e8ff;
  }
  body.dark .accordion-header.active {
    background: linear-gradient(135deg, #7c3aed, #9333ea);
    color: white;
  }
  .accordion-icon {
    transition: transform 0.3s ease;
    width: 24px;
    height: 24px;
  }
  .accordion-header.active .accordion-icon {
    transform: rotate(180deg);
  }
  .accordion-panel {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
    background: #f8fafc;
    border-radius: 0 0 12px 12px;
  }
  body.dark .accordion-panel {
    background: #1e1b29;
  }
  .accordion-panel .accordion-content {
    padding: 1rem; /* Adjusted for mobile */
  }
   @media (min-width: 768px) {
      .accordion-panel .accordion-content {
         padding: 1.5rem;
      }
   }
  .accordion-panel h4 {
    font-size: 1.1rem;
    font-weight: bold;
    margin: 1rem 0 0.5rem;
    color: #9333ea;
    border-left: 4px solid #d8b4fe;
    padding-left: 0.5rem;
  }
  body.dark .accordion-panel h4 {
    color: #d8b4fe;
    border-left-color: #a78bfa;
  }

  /* WRAPPER FOR TABLES */
  .overflow-x-auto {
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    border-radius: 12px;
    background: white;
    padding: 1rem;
    margin-top: 1rem;
  }
  body.dark .overflow-x-auto {
    background: #1e1b29;
  }
  #user-info {
    display: flex;
    align-items: center;
    gap: 0.5rem; /* space between welcome text and logout button */
  }

  /* FOOTER STYLES */
  #page-footer {
    padding-top: 2rem;
    padding-bottom: 2rem;
    margin-top: 4rem;
    border-top: 1px solid #e2e8f0;
    transition: border-color 0.3s ease;
  }
  body.dark #page-footer {
    border-top-color: #334155;
  }