<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lesson Plan</title>
  <link rel="stylesheet" href="style.css" />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

  <style>
    body {
      font-family: 'Roboto', sans-serif;
      font-size: 15px;
      line-height: 1.6;
      color: #222;
      background-color: #f4f4f9; /* Added a light background to the body */
      padding: 1rem;
    }
    #table-container {
        max-width: 8.5in; /* A4 paper width approx */
        margin: 0 auto;
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1, h2, h3, label, .header, .section-title, .highlight-pink b, .highlight-blue b, .highlight-green b {
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      letter-spacing: 0.3px;
    }
    select, input, textarea { font-family: 'Roboto', sans-serif; }
    .section-title td {
      font-family: 'Poppins', sans-serif;
      font-size: 15px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ===== Theme 1 – Soft Blues ===== */
    .theme1 table { background-color: #f2f8ff; }
    .theme1 .section-title td { background-color: #cce5ff; color: #003366; }
    .theme1 textarea, .theme1 input, .theme1 select, .theme1 .editable-area { background-color: #e6f2ff; border: 1px solid #99ccff; color: #002244; }

    /* ===== Theme 2 – Warm Sunrise ===== */
    .theme2 table { background-color: #fff6f0; }
    .theme2 .section-title td { background-color: #ffd9b3; color: #663300; }
    .theme2 textarea, .theme2 input, .theme2 select, .theme2 .editable-area { background-color: #fff6f0; border: 1px solid #ffb366; color: #442200; }

    /* ===== Theme 3 – Calm Greens ===== */
    .theme3 table { background-color: #f2fff2; }
    .theme3 .section-title td { background-color: #c6f2c6; color: #003300; }
    .theme3 textarea, .theme3 input, .theme3 select, .theme3 .editable-area { background-color: #e0ffe0; border: 1px solid #80d980; color: #002200; }

    /* ===== Theme 4 – Lavender Dream ===== */
    .theme4 table { background-color: #faf2ff; }
    .theme4 .section-title td { background-color: #e0ccff; color: #330066; }
    .theme4 textarea, .theme4 input, .theme4 select, .theme4 .editable-area { background-color: #FFFFFF; border: 1px solid #b366ff; color: #220044; }

    /* ===== Theme 5 – Peachy Pastel ===== */
    .theme5 table { background-color: #fff5f7; }
    .theme5 .section-title td { background-color: #F28A29; color: #660022; }
    .theme5 textarea, .theme5 input, .theme5 select, .theme5 .editable-area { background-color: #FFFFFF; border: 1px solid #F5DFC6; color: #440011; }

    /* ===== Theme 6 – Mint Breeze ===== */
    .theme6 table { background-color: #f0fffa; }
    .theme6 .section-title td { background-color: #b3ffe0; color: #004d33; }
    .theme6 textarea, .theme6 input, .theme6 select, .theme6 .editable-area { background-color: #FFFFFF; border: 1px solid #66ffcc; color: #003322; }

    /* ===== Theme 7 – Golden Glow ===== */
    .theme7 table { background-color: #fffdf2; }
    .theme7 .section-title td { background-color: #9BF279; color: #664d00; }
    .theme7 textarea, .theme7 input, .theme7 select, .theme7 .editable-area { background-color: #FFFFFF; border: 1px solid #CDE3C3; color: #332200; }

    /* ===== Theme 8 – Rose Mist ===== */
    .theme8 table { background-color: #fff5f9; }
    .theme8 .section-title td { background-color: #ffb3d9; color: #660033; }
    .theme8 textarea, .theme8 input, .theme8 select, .theme8 .editable-area { background-color: #FFFFFF; border: 1px solid #ff80bf; color: #33001a; }

    /* ===== Theme 9 – Ocean Wave ===== */
    .theme9 table { background-color: #f2fbff; }
    .theme9 .section-title td { background-color: #FAE37A; color: #003344; }
    .theme9 textarea, .theme9 input, .theme9 select, .theme9 .editable-area { background-color: #FFFFFF; border: 1px solid #F2ECCE; color: #002233; }

    /* ===== Theme 10 – Coffee Cream ===== */
    .theme10 table { background-color: #fffaf5; }
    .theme10 .section-title td { background-color: #928AF2; color: #332211; }
    .theme10 textarea, .theme10 input, .theme10 select, .theme10 .editable-area { background-color: #FFFFFF; border: 1px solid #E4D8F0; color: #221100; }
  </style>
</head>
<body>

  <div class="controls no-print">
    <div class="control-group">
      <a href="index.html" class="action-btn back-btn"><i class="fa-solid fa-arrow-left"></i> Go Back</a>
    </div>
    <div class="control-group">
      <label for="themeSwitcher">Theme:</label>
      <select id="themeSwitcher">
        <option value="default" selected>Default (Current)</option>
        <option value="theme1">Soft Blues</option>
        <option value="theme2">Warm Sunrise</option>
        <option value="theme3">Calm Greens</option>
        <option value="theme4">Lavender Dream</option>
        <option value="theme5">Peachy Pastel</option>
        <option value="theme6">Ocean Breeze</option>
        <option value="theme7">Minty Fresh</option>
        <option value="theme8">Rose Garden</option>
        <option value="theme9">Golden Glow</option>
        <option value="theme10">Twilight</option>
      </select>
    </div>
    <div class="control-group">
      <button id="save-button" class="action-btn save-btn"><i class="fa-solid fa-save"></i> Save Plan</button>
      <button onclick="window.print()" class="action-btn print-btn"><i class="fa-solid fa-print"></i> Print / PDF</button>
    </div>
  </div>

  <div id="planNameModal" class="modal-overlay">
    <div class="modal-content">
      <h2>Save Lesson Plan</h2>
      <label for="planNameInput">Enter plan name:</label>
      <input type="text" id="planNameInput" placeholder="My Lesson Plan" />
      <div class="modal-actions">
        <button id="cancelSave" class="cancel-btn">Cancel</button>
        <button id="confirmSave" class="confirm-btn">Save</button>
      </div>
    </div>
  </div>


  <div class="ribbon no-print" id="ribbon">
      <div class="group" aria-label="Font">
        <select id="fontFamily" title="Font family">
          <option>Roboto</option><option>Poppins</option><option>Arial</option><option>Helvetica</option><option>Times New Roman</option><option>Georgia</option><option>Verdana</option><option>Courier New</option>
        </select>
        <select id="fontSize" title="Font size">
          <option value="10">10</option><option value="12">12</option><option value="14" selected>14</option><option value="16">16</option><option value="18">18</option><option value="20">20</option><option value="24">24</option><option value="28">28</option><option value="32">32</option><option value="40">40</option><option value="48">48</option>
        </select>
      </div>

      <div class="group" aria-label="Emphasis">
        <button class="btn-square" data-cmd="bold" title="Bold (Ctrl+B)"><b>B</b></button>
        <button class="btn-square" data-cmd="italic" title="Italic (Ctrl+I)"><i>I</i></button>
        <button class="btn-square" data-cmd="underline" title="Underline (Ctrl+U)"><u>U</u></button>
        <button class="btn-square" data-cmd="strikeThrough" title="Strikethrough"><s>S</s></button>
        <button class="btn-square" data-cmd="superscript" title="Superscript">x<sup>2</sup></button>
        <button class="btn-square" data-cmd="subscript" title="Subscript">x<sub>2</sub></button>
      </div>

      <div class="group" aria-label="Colors">
        <label class="label" for="foreColor">Text</label>
        <input type="color" id="foreColor" title="Text color" value="#222222">
        <span class="sep"></span>
        <label class="label" for="hiliteColor">Highlight</label>
        <input type="color" id="hiliteColor" title="Highlight color" value="#fff59d">
      </div>

      <div class="group" aria-label="Paragraph">
        <button class="btn-square" data-cmd="justifyLeft" title="Align Left"><i class="fa-solid fa-align-left"></i></button>
        <button class="btn-square" data-cmd="justifyCenter" title="Align Center"><i class="fa-solid fa-align-center"></i></button>
        <button class="btn-square" data-cmd="justifyRight" title="Align Right"><i class="fa-solid fa-align-right"></i></button>
        <button class="btn-square" data-cmd="justifyFull" title="Justify"><i class="fa-solid fa-align-justify"></i></button>
        <span class="sep"></span>
        <button class="btn-square" data-cmd="insertUnorderedList" title="Bullet list"><i class="fa-solid fa-list-ul"></i></button>
        <button class="btn-square" data-cmd="insertOrderedList" title="Numbered list"><i class="fa-solid fa-list-ol"></i></button>
        <button class="btn-square" data-cmd="outdent" title="Outdent"><i class="fa-solid fa-outdent"></i></button>
        <button class="btn-square" data-cmd="indent" title="Indent"><i class="fa-solid fa-indent"></i></button>
      </div>

      <div class="group" aria-label="Insert">
          <button class="btn-square insert-image-btn" title="Insert Image"><i class="fa-solid fa-image"></i></button>
      </div>

      <div class="group" aria-label="Actions">
        <button class="btn" data-cmd="removeFormat" title="Clear formatting (selection)"><i class="fas fa-remove-format"></i> Clear</button>
      </div>
  </div>

  <div id="table-container" class="theme-default">
    <!-- MAJOR CHANGE: All header info is now in a single table for better print layout -->
    <table>
      <!-- Row 1: School & Teacher -->
      <tr>
        <td class="header c1" colspan="2">
          <b>Primary School:</b>
          <input type="text" id="schoolName" placeholder="Enter school name" class="input-no-border" />
        </td>
        <td class="header c2" colspan="2">
          <b>Teacher:</b>
          <input type="text" id="teacherName" placeholder="Enter teacher name" class="input-no-border" />
        </td>
      </tr>
      <!-- Row 2: Level, Learners, Sequence, Section -->
      <tr>
        <td class="header c3">
          Level:
          <select id="levelSelect" class="level-select">
            <option value="">-- Select Level --</option>
            <option value="3PS">3PS</option>
            <option value="4PS">4PS</option>
            <option value="5PS">5PS</option>
          </select>
        </td>
        <td class="header c4">
          Number of learners:
          <input type="number" id="learnerCount" min="1" class="input-no-border" placeholder="0" />
        </td>
        <td class="header c5">
          Sequence:
          <select id="sequenceSelect" class="level-select">
            <option value="">-- Select Sequence --</option>
          </select>
        </td>
        <td class="header c6">
          Section:
          <select id="sectionSelect" class="level-select">
            <option value="">-- Select Section --</option>
          </select>
        </td>
      </tr>
      <!-- Row 3: Session & Materials -->
      <tr>
        <td class="header c6" colspan="2">
          Session:
          <select id="sessionSelect" class="level-select">
            <option value="">-- Select Session --</option>
          </select>
        </td>
        <td class="highlight-blue" colspan="2">
          <b style="margin-right: 10px;">Teaching materials:</b>
          <div id="materials" class="competency-group-inline">
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Textbook" /> Textbook
            </label>
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Workbook" /> W.B
            </label>
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Flashcards" /> Flashcards
            </label>
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Stale" /> Stale
            </label>
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Song" /> Song
            </label>
          </div>
        </td>
      </tr>
       <!-- Row 4: Objective -->
      <tr>
        <td class="highlight-pink" colspan="4">
          <b>Session objective(s):</b>
          <input type="text" 
                 id="sessionObjective"
                 value="By the end of the lesson, L.W.B.A.T ask and answer about name & age correctly." 
                 class="input-no-border" />
        </td>
      </tr>
       <!-- Row 5: Competencies & Subsidiary -->
      <tr>
        <td class="highlight-blue" colspan="2">
          <b style="margin-right: 10px;">Target competencies:</b>
          <div id="competencies" class="competency-group-inline">
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Interact" /> Interact
            </label>
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Interpret" /> Interpret
            </label>
            <label class="competency-option">
              <input type="checkbox" class="competency-checkbox" value="Produce" /> Produce
            </label>
          </div>
        </td>
        <td class="highlight-green" colspan="2">
            <b>Subsidiary objectives:</b>
            <input type="text" id="subsidiaryObjective" value="Building Confidence in Language Use." class="input-no-border" />
        </td>
      </tr>
    </table>

    <br />
    
    <table>
      <tr class="section-title">
        <td class="stage-col">Stages</td>
        <td class="procedure">Procedure / Tasks</td>
        <td class="interaction-col">Interaction</td>
        <td class="time-col">Time ?</td>
      </tr>
      <tr>
        <td class="stage-col">Warmer</td>
        <td class="procedure">
            <div id="warmerProcedure" class="editable-area small" contenteditable="true" data-placeholder="Write your warmer procedure here..."></div>
        </td>
        <td class="interaction-col">
            <input type="text" id="warmerInteraction" value="T -> L" class="input-no-border" style="text-align: center;"/>
        </td>
        <td class="time-col">
            <input type="text" id="warmerTime" value="10 min" class="input-no-border" style="text-align: center;"/>
        </td>
      </tr>
      <tr>
        <td class="stage-col">Install resources</td>
        <td class="procedure">
            <div id="installProcedure" class="editable-area" contenteditable="true" data-placeholder="Write your main lesson procedure here..."></div>
        </td>
        <td class="interaction-col">
            <input type="text" id="installInteraction" value="T -> T" class="input-no-border" style="text-align: center;"/>
        </td>
        <td class="time-col">
            <input type="text" id="installTime" value="20 min" class="input-no-border" style="text-align: center;"/>
        </td>
      </tr>
      <tr>
        <td class="stage-col">Assessment</td>
        <td class="procedure">
            <div id="assessmentProcedure" class="editable-area small" contenteditable="true" data-placeholder="Write your assessment procedure here..."></div>
        </td>
        <td class="interaction-col">
            <input type="text" id="assessmentInteraction" value="L -> L" class="input-no-border" style="text-align: center;"/>
        </td>
        <td class="time-col">
            <input type="text" id="assessmentTime" value="15 min" class="input-no-border" style="text-align: center;"/>
        </td>
      </tr>
    </table>

    <br />
    <table>
      <tr>
        <td colspan="3" class="highlight-yellow" style="text-align: center; font-weight: bold;">
          Self-reflection
        </td>
      </tr>
      <tr>
        <td class="highlight-pink" style="text-align: center; vertical-align: middle;">
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <label style="font-weight: bold; margin-bottom: 6px;">What Worked:</label>
            <textarea id="whatWorked" class="input-no-border" placeholder="Enter what worked..." rows="3" style="width: 90%; text-align: center;"></textarea>
          </div>
        </td>
        <td class="highlight-red" style="text-align: center; vertical-align: middle;">
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <label style="font-weight: bold; margin-bottom: 6px;">What hindered:</label>
            <textarea id="whatHindered" class="input-no-border" placeholder="Enter what hindered..." rows="3" style="width: 90%; text-align: center;"></textarea>
          </div>
        </td>
        <td class="highlight-green" style="text-align: center; vertical-align: middle;">
          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <label style="font-weight: bold; margin-bottom: 6px;">Action Points:</label>
            <textarea id="actionPoints" class="input-no-border" placeholder="Enter action points..." rows="3" style="width: 90%; text-align: center;"></textarea>
          </div>
        </td>
      </tr>
    </table>
  </div>

  <script src="script.js"></script>
</body>
</html>

